{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","newNode","parentNode","insertBefore","nextSibling","before","append","appendChild","wrap","remove","removeChild","empty","array","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","parent","children","siblings","Array","from","filter","n","next","x","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..\\src","sourcesContent":["window.dom = {\r\n  create(string) {\r\n    // 创建容器    template标签可以容纳任意元素\r\n    const container = document.createElement('template')\r\n    // 要trim，防止拿到空字符\r\n    container.innerHTML = string.trim()\r\n    // 必须要 使用 .content  要不然拿不到\r\n    return container.content.firstChild\r\n\r\n    // 或者\r\n    // container.innerHTML = string\r\n    // return container.content.children[0]\r\n  },\r\n  after(node, newNode) {\r\n    // 找到此节点的爸爸然后调用insertBefore（插入某个节点的前面）方法，\r\n    //把 newNode 插入到下一个节点的前面\r\n    return node.parentNode.insertBefore(newNode, node.nextSibling)\r\n  },\r\n  before(node, newNode) {\r\n    // 正常的返回DOM原生的添加前面的节点的方法即可\r\n    return node.parentNode.insertBefore(newNode, node)\r\n  },\r\n  append(newNode, node) {\r\n    return newNode.appendChild(node)\r\n  },\r\n  wrap(node, newNode) {\r\n    // 先把newNode放在node节点的前面   后面也行\r\n    dom.before(node, newNode)\r\n    // 然后把node节点放在newNode里面\r\n    dom.append(newNode, node)\r\n  },\r\n  remove(node) {\r\n    node.parentNode.removeChild(node)\r\n    //返回删除的节点\r\n    return node\r\n  },\r\n  empty(node) {\r\n    let firstChild = node.firstChild,\r\n      array = []\r\n    while (firstChild) {\r\n      array.push(dom.remove(node.firstChild))\r\n      firstChild = node.firstChild\r\n    }\r\n    // 返回删除的节点\r\n    return array\r\n\r\n  },\r\n  attr(node, name, value) {\r\n    if (arguments.length === 3) { // 重载\r\n      // 设置该节点某个属性和属性值\r\n      node.setAttribute(name, value)\r\n    } else if (arguments.length === 2) {\r\n      // 查看该节点某个属性的值\r\n      return node.getAttribute(name)\r\n    }\r\n  },\r\n  text(node, string) {\r\n    if (arguments.length === 2) { // 重载\r\n      if ('innerText' in node) { // 兼容 ie\r\n        node.innerText = string\r\n      } else {\r\n        node.textContent = string\r\n      }\r\n    } else if (arguments.length === 1) {\r\n      if ('innerText' in node) {\r\n        return node.innerText\r\n      } else {\r\n        return node.textContent\r\n      }\r\n    }\r\n  },\r\n  html(node, string) {\r\n    if (arguments.length === 2) {\r\n      node.innerHTML = string\r\n    } else if (arguments.length === 1) {\r\n      return node.innerHTML\r\n    }\r\n  },\r\n  style(node, name, value) {\r\n    if (arguments.length === 3) {\r\n      // dom.style(xxx,'color','red')\r\n      node.style[name] = value\r\n    } else if (arguments.length === 2) {\r\n      if (typeof name === 'string') {\r\n        // dom.style(xxx,'color')\r\n        return node.style[name]\r\n      } else if (name instanceof Object) {\r\n        // dom.style(xxx,{color:'red'})\r\n        const object = name\r\n        for (let key in object) {\r\n          // 不能用 style.key 是因为 key是变量\r\n          node.style[key] = object[key]\r\n        }\r\n      }\r\n    }\r\n  },\r\n  class: {\r\n    add(node, className) {\r\n      node.classList.add(className)\r\n    },\r\n    remove(node, className) {\r\n      node.classList.remove(className)\r\n    },\r\n    has(node, className) {\r\n      return node.classList.contains(className)\r\n    }\r\n  },\r\n  on(node, eventName, fn) {\r\n    node.addEventListener(eventName, fn)\r\n  },\r\n  off(node, eventName, fn) {\r\n    node.removeEventListener(eventName, fn)\r\n  },\r\n  find(selector, scope) {\r\n    return (scope || document).querySelectorAll(selector)\r\n  },\r\n  parent(node) {\r\n    return node.parentNode\r\n  },\r\n  children(node) {\r\n    return node.children\r\n  },\r\n  siblings(node) {\r\n    return Array.from(node.parentNode.children)\r\n      .filter(n => n !== node)\r\n  },\r\n  next(node) {\r\n    let x = node.nextSibling\r\n    while (x && x.nodeType === 3) { //  1是元素节点， 3是文本节点\r\n      x = x.nextSibling\r\n    }\r\n    return x\r\n  },\r\n  previous(node) {\r\n    let x = node.previousSibling\r\n    while (x && x.nodeType === 3) { //  1是元素节点， 3是文本节点\r\n      x = x.previousSibling\r\n    }\r\n    return x\r\n  },\r\n  each(nodeList, fn) {\r\n    for (let i = 0; i < nodeList.length; i++) {\r\n      fn.call(null, nodeList[i])\r\n    }\r\n  },\r\n  index(node) {\r\n    const list = dom.children(node.parentNode)\r\n    for (let i = 0; i < list.length; i++) {\r\n      if (list[i] === node) {\r\n        return i\r\n      }\r\n    }\r\n  }\r\n}"]}